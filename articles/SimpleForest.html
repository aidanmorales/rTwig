<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rTwig">
<title>SimpleForest • rTwig</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SimpleForest">
<meta property="og:description" content="rTwig">
<meta property="og:image" content="https://aidanmorales.github.io/rTwig/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rTwig</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Box-Dimension.html">Box-Dimension</a>
    <a class="dropdown-item" href="../articles/SimpleForest.html">SimpleForest</a>
    <a class="dropdown-item" href="../articles/TreeQSM.html">TreeQSM</a>
    <a class="dropdown-item" href="../articles/Twigs.html">Twigs</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/aidanmorales/rTwig/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>SimpleForest</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/aidanmorales/rTwig/blob/HEAD/vignettes/SimpleForest.Rmd" class="external-link"><code>vignettes/SimpleForest.Rmd</code></a></small>
      <div class="d-none name"><code>SimpleForest.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>Real Twig was designed and tested using QSMs created with the <a href="https://github.com/InverseTampere/TreeQSM" class="external-link">TreeQSM</a> modeling
software. However, if a QSM provides parent-child cylinder
relationships, Real Twig will work, as is the case of the <a href="https://www.simpleforest.org/" class="external-link">SimpleForest</a> software. If high
quality point clouds, QSMs with the proper input settings, and species
specific twig diameter measurements are supplied, you can expect to get
good estimates of tree volume.</p>
<p>While Real Twig can provide excellent tree volume estimates, it can
not transform poor quality data into good data. As a general rule of
thumb, the closer the QSM resembles the actual tree before correction,
the better the results will be after correction. Real Twig performs best
when the topology of the tree is mostly correct, and only the cylinder
sizes are the main sources of QSM error. Errors in QSM topology become
readily apparent after correction, so Real Twig can also be used to
visually validate QSM topology without reference data.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the package directly from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rTwig"</span><span class="op">)</span></span></code></pre></div>
<p>Or the latest development version from <a href="https://github.com/" class="external-link">GitHub</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"https://github.com/aidanmorales/rTwig"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-packages">Load Packages<a class="anchor" aria-label="anchor" href="#load-packages"></a>
</h2>
<p>The first step is to load the rTwig package. Real Twig works well
when paired with packages from the <a href="https://www.tidyverse.org/" class="external-link">Tidyverse</a>, so we will also load
the dplyr package to help with data manipulation.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load rTwig</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://aidanmorales.github.io/rTwig/">rTwig</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Other useful packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="import-qsm">Import QSM<a class="anchor" aria-label="anchor" href="#import-qsm"></a>
</h2>
<p>SimpleForest exports its QSMs as .csv files, so they are easy to load
into R using the built in <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code> function. If the QSM
contains thousands of cylinders, it is much faster to use the
<code>fread()</code> function from the <code>data.table</code> package
to take advantage of multi-threaded support.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># QSM directory</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/QSM.csv"</span>, package <span class="op">=</span> <span class="st">"rTwig"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Import and save QSM cylinder data</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></code></pre></div>
<p>Let’s take a look at the SimpleForest cylinder data.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cylinder</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    1149 obs. of  17 variables:</span></span>
<span><span class="co">#&gt;  $ ID                  : int  0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">#&gt;  $ parentID            : int  -1 0 1 2 3 4 5 6 7 8 ...</span></span>
<span><span class="co">#&gt;  $ startX              : num  0.761 0.759 0.771 0.768 0.765 ...</span></span>
<span><span class="co">#&gt;  $ startY              : num  -16.4 -16.4 -16.4 -16.3 -16.4 ...</span></span>
<span><span class="co">#&gt;  $ startZ              : num  254 254 254 254 254 ...</span></span>
<span><span class="co">#&gt;  $ endX                : num  0.759 0.771 0.768 0.765 0.769 ...</span></span>
<span><span class="co">#&gt;  $ endY                : num  -16.4 -16.4 -16.3 -16.4 -16.4 ...</span></span>
<span><span class="co">#&gt;  $ endZ                : num  254 254 254 254 254 ...</span></span>
<span><span class="co">#&gt;  $ radius              : num  0.0472 0.0479 0.0469 0.0467 0.0453 ...</span></span>
<span><span class="co">#&gt;  $ length              : num  0.0497 0.0529 0.0535 0.0525 0.0528 ...</span></span>
<span><span class="co">#&gt;  $ growthLength        : num  31.4 31.4 31.3 31.3 31.2 ...</span></span>
<span><span class="co">#&gt;  $ averagePointDistance: num  0.00589 0.00378 0.00205 0.00246 0.00251 ...</span></span>
<span><span class="co">#&gt;  $ segmentID           : int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ parentSegmentID     : int  -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...</span></span>
<span><span class="co">#&gt;  $ branchOrder         : int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ reverseBranchOrder  : int  18 18 18 18 18 18 18 18 18 18 ...</span></span>
<span><span class="co">#&gt;  $ branchID            : int  0 0 0 0 0 0 0 0 0 0 ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cylinder-data">Cylinder Data<a class="anchor" aria-label="anchor" href="#cylinder-data"></a>
</h2>
<p>Next, we have to update the parent-child ordering in the cylinder
data to allow for path analysis. We need the first cylinder ID to have
an index of 0. Let’s update the cylinders using the
<code><a href="../reference/update_cylinders.html">update_cylinders()</a></code> function and check to make sure the
parent-child ordering is sequential without any gaps. Many of the extra
QSM variables are all ready included with SimpleForest QSMs, so they are
only calculated in this step if they are missing.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Update cylinder data</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_cylinders.html">update_cylinders</a></span><span class="op">(</span><span class="va">cylinder</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check ordering</span></span>
<span><span class="va">cylinder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">branchID</span>, <span class="va">parentID</span>, <span class="va">ID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tidytable: 6 × 3</span></span></span>
<span><span class="co">#&gt;   branchID parentID    ID</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        0       -<span style="color: #BB0000;">1</span>     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>        0        0     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>        0        1     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>        0        2     3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>        0        3     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>        0        4     5</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="topology">Topology<a class="anchor" aria-label="anchor" href="#topology"></a>
</h2>
<p>Before we correct the QSM, it is often worthwhile to check the
quality of the QSM by plotting it against its input point cloud. To do
this, we load the point cloud and save it as a data frame, with the
first three columns as the x, y, and z columns. We do this with the
<code><a href="../reference/plot_qsm.html">plot_qsm()</a></code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the input point cloud</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/cloud.txt"</span>, package <span class="op">=</span> <span class="st">"rTwig"</span><span class="op">)</span></span>
<span><span class="va">cloud</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">file</span>, header <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the qsm and point cloud</span></span>
<span><span class="fu"><a href="../reference/plot_qsm.html">plot_qsm</a></span><span class="op">(</span>cylinder <span class="op">=</span> <span class="va">cylinder</span>, cloud <span class="op">=</span> <span class="va">cloud</span>, radius <span class="op">=</span> <span class="va">cylinder</span><span class="op">$</span><span class="va">radius</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="twig-diameters">Twig Diameters<a class="anchor" aria-label="anchor" href="#twig-diameters"></a>
</h2>
<p>Before we can correct the QSM radii, we need to know what our real
twig diameter is. For this example tree, the species is a Kentucky
coffee tree (<em>Gymnocladus dioicus</em>), which has nice, stout twigs.
rTwig comes with a data base of twigs that can be called by typing in
the <code>twigs</code> data set. The data set includes the average twig
radius, the min and max radius, the standard deviation, and the
coefficient of variation. Let’s look at the twig data set and find the
twig diameter for Kentucky coffee tree.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Look at the twigs database</span></span>
<span><span class="va">twigs</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 96 × 7</span></span></span>
<span><span class="co">#&gt;    scientific.name  radius.mm     n   min   max   std    cv</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Abies concolor        1.43    21  0.89  1.9   0.28  0.19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Abies spp.            1.43    21  0.89  1.9   0.28  0.19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Acer platanoides      1.39    30  0.89  2.03  0.3   0.21</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Acer rubrum           1.18    30  0.89  1.52  0.16  0.14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Acer saccharinum      1.41    14  0.89  1.9   0.27  0.2 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Acer saccharum        1.2     30  0.89  1.65  0.23  0.19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Acer spp.             1.29   104  0.89  2.03  0.23  0.18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Aesculus flava        2.67     8  2.29  2.79  0.2   0.08</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Aesculus spp.         2.67     8  2.29  2.79  0.2   0.08</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Betula nigra          0.85    30  0.51  1.52  0.23  0.27</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 86 more rows</span></span></span>
<span></span>
<span><span class="co"># Find our species</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">twigs</span>, <span class="va">scientific.name</span> <span class="op">==</span> <span class="st">"Gymnocladus dioicus"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   scientific.name     radius.mm     n   min   max   std    cv</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Gymnocladus dioicus      4.23    30  2.79   6.6  0.87   0.2</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="summary-metrics">Summary Metrics<a class="anchor" aria-label="anchor" href="#summary-metrics"></a>
</h2>
<p>Before we correct the QSM, Let’s take a look at the current metrics,
so we can compare the tree volume before and after correction. We can do
this with the <code><a href="../reference/qsm_summary.html">qsm_summary()</a></code> function. We can also make a
plot of the radius versus the growth length to see how much
overestimation there is in the twig radii.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># QSM summary</span></span>
<span><span class="fu"><a href="../reference/qsm_summary.html">qsm_summary</a></span><span class="op">(</span><span class="va">cylinder</span>, radius <span class="op">=</span> <span class="st">"unmodified"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tidytable: 5 × 3</span></span></span>
<span><span class="co">#&gt;   BranchOrder Tot.vol.L Tot.sa.m2</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           0   12.9       0.768 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           1    8.70      1.07  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           2    6.46      0.871 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>           3    1.82      0.298 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>           4    0.072<span style="text-decoration: underline;">3</span>    0.014<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tidytable: 1 × 8</span></span></span>
<span><span class="co">#&gt;   QSM.dbh.cm QSM.ht.m Stem.vol.L Branch.vol.L Tot.vol.L Stem.sa.m2 Branch.sa.m2</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       7.39     3.67       12.9         17.1      30.0      0.768         2.26</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: Tot.sa.m2 &lt;dbl&gt;</span></span></span></code></pre></div>
<p><img src="SimpleForest_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;"></p>
<p><img src="SimpleForest_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Looking at the diagnostic plot on a log log scale, with the measured
twig radius as the horizontal line, we can see that all of the twig
radii are overestimated, with increasing radii variation as the growth
length approaches zero. There is not a very clear pattern in any of the
individual branch tapers.</p>
</div>
<div class="section level2">
<h2 id="correct-radii">Correct Radii<a class="anchor" aria-label="anchor" href="#correct-radii"></a>
</h2>
<p>Now we can correct our QSM cylinder radii with the
<code><a href="../reference/correct_radii.html">correct_radii()</a></code> function. In this step, we model each path
in the tree separately, where poorly fit cylinders are identified and
removed, and a GAM is fit, where the intercept is the measured twig
radius, and the growth length predicts the cylinder radius. Let’s
correct the cylinder radii on our Kentucky coffee tree and look at the
new volume estimates and diagnostic plots.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Correct cylinder radii</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/correct_radii.html">correct_radii</a></span><span class="op">(</span><span class="va">cylinder</span>, twigRad <span class="op">=</span> <span class="fl">4.23</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Corrected QSM summary</span></span>
<span><span class="fu"><a href="../reference/qsm_summary.html">qsm_summary</a></span><span class="op">(</span><span class="va">cylinder</span>, radius <span class="op">=</span> <span class="st">"modified"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tidytable: 5 × 3</span></span></span>
<span><span class="co">#&gt;   BranchOrder Tot.vol.L Tot.sa.m2</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           0   12.0      0.722  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           1    5.98     0.855  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           2    3.24     0.572  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>           3    0.508    0.156  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>           4    0.015<span style="text-decoration: underline;">5</span>   0.006<span style="text-decoration: underline;">95</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tidytable: 1 × 8</span></span></span>
<span><span class="co">#&gt;   QSM.dbh.cm QSM.ht.m Stem.vol.L Branch.vol.L Tot.vol.L Stem.sa.m2 Branch.sa.m2</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       7.39     3.67       12.0         9.75      21.7      0.722         1.59</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: Tot.sa.m2 &lt;dbl&gt;</span></span></span></code></pre></div>
<p><img src="SimpleForest_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;"></p>
<p><img src="SimpleForest_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Here we can see that we reduced the volume of the QSM by around 8
liters, which is around a 36% overestimation in volume before
correction. Kentucky coffee tree has relatively large twigs, so the
overestimation is not as severe as a tree with much smaller twigs, that
can have upwards of &gt;200% overestimation in some cases.</p>
<p>Looking at the diagnostic plot, we can see that individual branches
can clearly be identified by their unique allometry. Notice how nearly
all of the volume reduction occurred in the higher order branches, with
the main stem remaining nearly unchanged. The branches now taper towards
the measured twig radius for Kentucky coffee tree. Getting the real twig
diameter is critical, as too high a value will overestimate volume, and
too low a value will underestimate total volume, with the over or
underestimate being proportional to the number of twigs and small
branches in the tree. If your species is not available in the database,
we have found that the genus level twig radius average is a good
substitute.</p>
</div>
<div class="section level2">
<h2 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h2>
<p>Optionally, we can smooth our QSM by ensuring all of the cylinders
are connected. This is a visual change and does not affect the volume
estimates. We can do this with the <code><a href="../reference/smooth_qsm.html">smooth_qsm()</a></code> function,
and plot the results with the <code><a href="../reference/plot_qsm.html">plot_qsm()</a></code> function. The
different colors are the different branch orders. We can also color our
QSM by many different variables and palettes. See the
<code><a href="../reference/plot_qsm.html">plot_qsm()</a></code> documentation for more details.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Smooth QSM</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smooth_qsm.html">smooth_qsm</a></span><span class="op">(</span><span class="va">cylinder</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot QSM</span></span>
<span><span class="fu"><a href="../reference/plot_qsm.html">plot_qsm</a></span><span class="op">(</span><span class="va">cylinder</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># QSM Custom Colors &amp; Piping</span></span>
<span><span class="va">cylinder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/plot_qsm.html">plot_qsm</a></span><span class="op">(</span></span>
<span>    radius <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">radius</span>,</span>
<span>    cyl_color <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">reverseBranchOrder</span>,</span>
<span>    cyl_palette <span class="op">=</span> <span class="st">"magma"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot Twigs Colored by Unique Segment</span></span>
<span><span class="va">cylinder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">reverseBranchOrder</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/plot_qsm.html">plot_qsm</a></span><span class="op">(</span></span>
<span>    radius <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">radius</span>,</span>
<span>    cyl_color <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">reverseBranchOrder</span>,</span>
<span>    cyl_palette <span class="op">=</span> <span class="st">"rainbow"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>We can also save our QSM as a mesh (.ply extension) for use in other
modeling programs with the <code><a href="../reference/export_mesh.html">export_mesh()</a></code> function. The same
colors and palettes found in the <code><a href="../reference/plot_qsm.html">plot_qsm()</a></code> function can be
used to color the mesh.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export Mesh Colored by RBO</span></span>
<span><span class="va">cylinder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/export_mesh.html">export_mesh</a></span><span class="op">(</span></span>
<span>    filename <span class="op">=</span> <span class="st">"QSM_mesh"</span>,</span>
<span>    radius <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">radius</span>,</span>
<span>    cyl_color <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">reverseBranchOrder</span>,</span>
<span>    cyl_palette <span class="op">=</span> <span class="st">"magma"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Export Twigs Colored by Unique Segments</span></span>
<span><span class="va">cylinder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">reverseBranchOrder</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/export_mesh.html">export_mesh</a></span><span class="op">(</span></span>
<span>    filename <span class="op">=</span> <span class="st">"QSM_mesh"</span>,</span>
<span>    radius <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">radius</span>,</span>
<span>    cyl_color <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">reverseBranchOrder</span>,</span>
<span>    cyl_palette <span class="op">=</span> <span class="st">"rainbow"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="workflow-best-practices">Workflow &amp; Best Practices<a class="anchor" aria-label="anchor" href="#workflow-best-practices"></a>
</h2>
<p>Below is an overview of the typical rTwig processing chain. When
dealing with multiple trees, we advise creating a master data frame in a
tidy format, where each unique tree is a row, and the columns are the
tree id, the directory to the QSM .csv file, and the species twig
diameter, all of which can be tailored to your workflow needs. Then it
is a simple matter of looping over the master data frame, correcting
each tree, and saving the results to a master list. Make sure to read
each function’s documentation for more examples and unique features.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import QSM</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/QSM.csv"</span>, package <span class="op">=</span> <span class="st">"rTwig"</span><span class="op">)</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Real Twig Main Steps</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_cylinders.html">update_cylinders</a></span><span class="op">(</span><span class="va">cylinder</span><span class="op">)</span></span>
<span><span class="va">cylinder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/correct_radii.html">correct_radii</a></span><span class="op">(</span><span class="va">cylinder</span>, twigRad <span class="op">=</span> <span class="fl">4.23</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summary Metrics</span></span>
<span><span class="fu"><a href="../reference/qsm_summary.html">qsm_summary</a></span><span class="op">(</span><span class="va">cylinder</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot Results</span></span>
<span><span class="fu"><a href="../reference/plot_qsm.html">plot_qsm</a></span><span class="op">(</span><span class="va">cylinder</span>, color <span class="op">=</span> <span class="st">"GrowthLength"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="validation">Validation<a class="anchor" aria-label="anchor" href="#validation"></a>
</h2>
<p>How do we know if Real Twig returns accurate volume estimates? We can
validate our method against a high quality reference data set that was
both laser scanner and destructively sampled. The laser scanning was
done in leaf-off conditions with a Riegl VZ-400. The destructive
sampling contains total branch and main stem dry mass, and also basic
density for both the main stem and the branches.</p>
<p>It is important to note that Real Twig was not tested with
SimpleForest during its development. While Real Twig does improve volume
estimates for SimpleForest versus its built in allometric corrections,
there are still improvements to be made, as SimpleForest QSM cylinders
are generally much more overestimated than TreeQSM cylinders, making the
identification of “good” cylinders difficult.</p>
<p>Below are the mass estimates and statistics using SimpleForest v5.3.2
with its built in vessel volume correction, and Real Twig applied to the
same QSMs.</p>
<p><img src="SimpleForest_files/figure-html/unnamed-chunk-21-1.png" width="672" style="display: block; margin: auto;"><img src="SimpleForest_files/figure-html/unnamed-chunk-21-2.png" width="672" style="display: block; margin: auto;"><img src="SimpleForest_files/figure-html/unnamed-chunk-21-3.png" width="672" style="display: block; margin: auto;"></p>
<div id="jfwtmvjtxy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jfwtmvjtxy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jfwtmvjtxy thead, #jfwtmvjtxy tbody, #jfwtmvjtxy tfoot, #jfwtmvjtxy tr, #jfwtmvjtxy td, #jfwtmvjtxy th {
  border-style: none;
}

#jfwtmvjtxy p {
  margin: 0;
  padding: 0;
}

#jfwtmvjtxy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jfwtmvjtxy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jfwtmvjtxy .gt_title {
  color: #000000;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jfwtmvjtxy .gt_subtitle {
  color: #000000;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jfwtmvjtxy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jfwtmvjtxy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#jfwtmvjtxy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jfwtmvjtxy .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jfwtmvjtxy .gt_column_spanner_outer {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jfwtmvjtxy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jfwtmvjtxy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jfwtmvjtxy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jfwtmvjtxy .gt_spanner_row {
  border-bottom-style: hidden;
}

#jfwtmvjtxy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jfwtmvjtxy .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jfwtmvjtxy .gt_from_md > :first-child {
  margin-top: 0;
}

#jfwtmvjtxy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jfwtmvjtxy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jfwtmvjtxy .gt_stub {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jfwtmvjtxy .gt_stub_row_group {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jfwtmvjtxy .gt_row_group_first td {
  border-top-width: 2px;
}

#jfwtmvjtxy .gt_row_group_first th {
  border-top-width: 2px;
}

#jfwtmvjtxy .gt_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfwtmvjtxy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jfwtmvjtxy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jfwtmvjtxy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jfwtmvjtxy .gt_grand_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfwtmvjtxy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jfwtmvjtxy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jfwtmvjtxy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jfwtmvjtxy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#jfwtmvjtxy .gt_footnotes {
  color: #000000;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jfwtmvjtxy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfwtmvjtxy .gt_sourcenotes {
  color: #000000;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jfwtmvjtxy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfwtmvjtxy .gt_left {
  text-align: left;
}

#jfwtmvjtxy .gt_center {
  text-align: center;
}

#jfwtmvjtxy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jfwtmvjtxy .gt_font_normal {
  font-weight: normal;
}

#jfwtmvjtxy .gt_font_bold {
  font-weight: bold;
}

#jfwtmvjtxy .gt_font_italic {
  font-style: italic;
}

#jfwtmvjtxy .gt_super {
  font-size: 65%;
}

#jfwtmvjtxy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jfwtmvjtxy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jfwtmvjtxy .gt_indent_1 {
  text-indent: 5px;
}

#jfwtmvjtxy .gt_indent_2 {
  text-indent: 10px;
}

#jfwtmvjtxy .gt_indent_3 {
  text-indent: 15px;
}

#jfwtmvjtxy .gt_indent_4 {
  text-indent: 20px;
}

#jfwtmvjtxy .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>SimpleForest</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Metric">Metric</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Total Woody AGB">Total Woody AGB</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Main Stem Biomass">Main Stem Biomass</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Branch Biomass">Branch Biomass</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="metric" class="gt_row gt_center">Mean Relative Error (%)</td>
<td headers="total" class="gt_row gt_center">51.031</td>
<td headers="stem" class="gt_row gt_center">27.775</td>
<td headers="branch" class="gt_row gt_center">174.363</td>
</tr>
<tr>
<td headers="metric" class="gt_row gt_center">RMSE (kg)</td>
<td headers="total" class="gt_row gt_center">177.462</td>
<td headers="stem" class="gt_row gt_center">48.287</td>
<td headers="branch" class="gt_row gt_center">141.470</td>
</tr>
<tr>
<td headers="metric" class="gt_row gt_center">Relative RMSE (%)</td>
<td headers="total" class="gt_row gt_center">42.285</td>
<td headers="stem" class="gt_row gt_center">14.720</td>
<td headers="branch" class="gt_row gt_center">154.385</td>
</tr>
<tr>
<td headers="metric" class="gt_row gt_center">CCC</td>
<td headers="total" class="gt_row gt_center">0.934</td>
<td headers="stem" class="gt_row gt_center">0.990</td>
<td headers="branch" class="gt_row gt_center">0.669</td>
</tr>
</tbody>
</table>
</div>
<div id="dgiqeevkxw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dgiqeevkxw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dgiqeevkxw thead, #dgiqeevkxw tbody, #dgiqeevkxw tfoot, #dgiqeevkxw tr, #dgiqeevkxw td, #dgiqeevkxw th {
  border-style: none;
}

#dgiqeevkxw p {
  margin: 0;
  padding: 0;
}

#dgiqeevkxw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dgiqeevkxw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dgiqeevkxw .gt_title {
  color: #000000;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dgiqeevkxw .gt_subtitle {
  color: #000000;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dgiqeevkxw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dgiqeevkxw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#dgiqeevkxw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dgiqeevkxw .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dgiqeevkxw .gt_column_spanner_outer {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dgiqeevkxw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dgiqeevkxw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dgiqeevkxw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dgiqeevkxw .gt_spanner_row {
  border-bottom-style: hidden;
}

#dgiqeevkxw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dgiqeevkxw .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dgiqeevkxw .gt_from_md > :first-child {
  margin-top: 0;
}

#dgiqeevkxw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dgiqeevkxw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dgiqeevkxw .gt_stub {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dgiqeevkxw .gt_stub_row_group {
  color: #000000;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dgiqeevkxw .gt_row_group_first td {
  border-top-width: 2px;
}

#dgiqeevkxw .gt_row_group_first th {
  border-top-width: 2px;
}

#dgiqeevkxw .gt_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgiqeevkxw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dgiqeevkxw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dgiqeevkxw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgiqeevkxw .gt_grand_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgiqeevkxw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dgiqeevkxw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dgiqeevkxw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dgiqeevkxw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#dgiqeevkxw .gt_footnotes {
  color: #000000;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dgiqeevkxw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgiqeevkxw .gt_sourcenotes {
  color: #000000;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dgiqeevkxw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgiqeevkxw .gt_left {
  text-align: left;
}

#dgiqeevkxw .gt_center {
  text-align: center;
}

#dgiqeevkxw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dgiqeevkxw .gt_font_normal {
  font-weight: normal;
}

#dgiqeevkxw .gt_font_bold {
  font-weight: bold;
}

#dgiqeevkxw .gt_font_italic {
  font-style: italic;
}

#dgiqeevkxw .gt_super {
  font-size: 65%;
}

#dgiqeevkxw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dgiqeevkxw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dgiqeevkxw .gt_indent_1 {
  text-indent: 5px;
}

#dgiqeevkxw .gt_indent_2 {
  text-indent: 10px;
}

#dgiqeevkxw .gt_indent_3 {
  text-indent: 15px;
}

#dgiqeevkxw .gt_indent_4 {
  text-indent: 20px;
}

#dgiqeevkxw .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Real Twig (SimpleForest)</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Metric">Metric</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Total Woody AGB">Total Woody AGB</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Main Stem Biomass">Main Stem Biomass</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Branch Biomass">Branch Biomass</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="metric" class="gt_row gt_center">Mean Relative Error (%)</td>
<td headers="total" class="gt_row gt_center">15.850</td>
<td headers="stem" class="gt_row gt_center">11.909</td>
<td headers="branch" class="gt_row gt_center">41.238</td>
</tr>
<tr>
<td headers="metric" class="gt_row gt_center">RMSE (kg)</td>
<td headers="total" class="gt_row gt_center">27.605</td>
<td headers="stem" class="gt_row gt_center">24.525</td>
<td headers="branch" class="gt_row gt_center">18.651</td>
</tr>
<tr>
<td headers="metric" class="gt_row gt_center">Relative RMSE (%)</td>
<td headers="total" class="gt_row gt_center">6.578</td>
<td headers="stem" class="gt_row gt_center">7.476</td>
<td headers="branch" class="gt_row gt_center">20.353</td>
</tr>
<tr>
<td headers="metric" class="gt_row gt_center">CCC</td>
<td headers="total" class="gt_row gt_center">0.998</td>
<td headers="stem" class="gt_row gt_center">0.997</td>
<td headers="branch" class="gt_row gt_center">0.985</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aidan Morales, David W. MacFarlane.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
